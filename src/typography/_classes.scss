@use "sass:map";

@mixin generate-classes($config) {
  // Generates: .text-2xs to .text-4xl
  @if map.get($config, "generate-type-classes") {
    @each $name, $step in map.get($config, "type-steps") {
      .text-#{$name} {
        font-size: var(--text-#{$name});
      }
    }
  }

  // Generates: .font-100 to .font-900
  @if map.get($config, "generate-weight-classes") {
    @for $i from 1 through 9 {
      .font-#{$i}00 {
        font-weight: $i * 100;
      }
    }
  }

  // Generates: .line-height-xs, .line-height-s, .line-height-m...
  @each $name, $value in map.get($config, "line-heights") {
    .line-height-#{$name} {
      line-height: $value;
    }
  }

  // Generates: .tracking-tight, .tracking-wide...
  @if map.get($config, "generate-tracking") {
    @each $name, $value in map.get($config, "letter-spacing") {
      .tracking-#{$name} {
        letter-spacing: $value;
      }
    }
  }

  // Generates: .text-left, .text-center, .text-right, .text-justify
  @if map.get($config, "generate-alignment") {
    .text-left {
      text-align: left;
    }
    .text-center {
      text-align: center;
    }
    .text-right {
      text-align: right;
    }
    .text-justify {
      text-align: justify;
    }
  }

  // Generates: .uppercase, .lowercase, .underline, .italic...
  @if map.get($config, "generate-transform") {
    // Transforms
    .uppercase {
      text-transform: uppercase;
    }
    .lowercase {
      text-transform: lowercase;
    }
    .capitalize {
      text-transform: capitalize;
    }
    .normal-case {
      text-transform: none;
    }

    // Decorations
    .underline {
      text-decoration: underline;
    }
    .line-through {
      text-decoration: line-through;
    }
    .no-underline {
      text-decoration: none;
    }

    // Style
    .italic {
      font-style: italic;
    }
    .not-italic {
      font-style: normal;
    }
  }

  // Generates: .truncate, .whitespace-*, .break-*
  @if map.get($config, "generate-truncate") {
    // Standard one-line truncation
    .truncate {
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }

    // Whitespace control
    .whitespace-nowrap {
      white-space: nowrap;
    }
    .whitespace-normal {
      white-space: normal;
    }
    .whitespace-pre {
      white-space: pre;
    }

    // Word breaking
    .break-normal {
      overflow-wrap: normal;
      word-break: normal;
    }
    .break-words {
      overflow-wrap: break-word;
    }
    .break-all {
      word-break: break-all;
    }
  }
}
